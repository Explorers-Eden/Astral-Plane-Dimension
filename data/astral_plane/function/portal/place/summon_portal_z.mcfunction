execute at @s align xyz positioned ~ ~ ~ run summon marker ~.5 ~2 ~.5 {Rotation:[0F,0F],Tags:["portal.astral_plane"]}

execute at @s align xyz positioned ~ ~ ~ run summon block_display ~ ~ ~ {Tags:["portal.astral_plane"],Passengers:[{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,0f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,0f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,0f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,0f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:chiseled_polished_blackstone"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,0f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:chiseled_polished_blackstone"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,1f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,2f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,3f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,4f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,5f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-2f,0f,1f,0f,6f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:chiseled_polished_blackstone"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,6f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,6f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,6f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,6f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:chiseled_polished_blackstone"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,5f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,1f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,4f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,3f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,2f,0f,1f,0f,2f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:polished_blackstone_bricks"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[3f,0f,0f,-1f,0f,3f,0f,1f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:soul_fire"}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,1f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,1f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,1f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,2f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,2f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,2f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,3f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,3f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,3f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,4f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,4f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,4f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,-1f,0f,1f,0f,5f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,0f,0f,1f,0f,5f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}},{id:"minecraft:block_display",Tags:["portal.astral_plane"],transformation:[1f,0f,0f,1f,0f,1f,0f,5f,0f,0f,1f,0f,0f,0f,0f,1f],block_state:{Name:"minecraft:nether_portal",Properties:{axis:"x"}}}]}
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~ ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~ ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~ ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~ ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~ ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~1 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~1 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~2 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~2 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~3 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~3 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~4 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~4 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~5 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~5 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~6 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~2 ~6 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~6 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~6 ~ barrier
execute at @s align xyz positioned ~ ~ ~ run setblock ~-2 ~6 ~ barrier

execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~1 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~1 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~1 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~2 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~2 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~2 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~3 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~3 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~3 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~4 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~4 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~4 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~ ~5 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~1 ~5 ~ minecraft:light[level=10]
execute at @s align xyz positioned ~ ~ ~ run setblock ~-1 ~5 ~ minecraft:light[level=10]

kill @e[type=marker,tag=structure.portal.astral_plane]